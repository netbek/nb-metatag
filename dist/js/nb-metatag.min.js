/*
 * nb-metatag
 * 
 * @author Hein Bekker <hein@netbek.co.za>
 * @copyright (c) 2015 Hein Bekker
 * @license http://www.gnu.org/licenses/agpl-3.0.txt AGPLv3
 */
!function(a,b,c){"use strict";function d(){var a={delimiter:":",defaults:{title:c,"abstract":c,description:c,keywords:c,copyright:c,og:{title:c,description:c,url:c,type:c,image:{facebook:{url:c,width:c,height:c},linkedin:{url:c,width:c,height:c}}},twitter:{card:c,site:c,creator:c,image:c},mobile_web_app_capable:c,apple_mobile_web_app_capable:c,apple_mobile_web_app_title:c}};return{set:function(b){a=g(!0,{},a,b)},$get:function(){return a}}}function e(){var a=!1;return{$get:["$rootScope","$q","nbToken","nbMetatagConfig","_",function(b,c,d,e,f){function g(){b.metatag=d.replace(f.cloneDeep(e.defaults))}return b.$on("$stateChangeStart",function(){g()}),{init:function(){var b=c.defer();return a||(a=!0,g()),b.resolve(!0),b.promise},reset:g,set:function(a){b.metatag=d.replace(a)}}}]}}function f(a){return!!a&&"object"==typeof a&&a.constructor===Object&&!a.nodeType&&a!==a.window}function g(){var a,d,e,h,i,j,k=arguments[0]||{},l=1,m=arguments.length,n=!1;for("boolean"==typeof k&&(n=k,k=arguments[l]||{},l++),f(k)||b.isFunction(k)||(k={}),l===m&&l--;m>l;l++)if(null!=(a=arguments[l]))for(d in a)e=k[d],h=a[d],k!==h&&(n&&h&&(f(h)||(i=b.isArray(h)))?(i?(i=!1,j=e&&b.isArray(e)?e:[]):j=e&&f(e)?e:{},k[d]=g(n,j,h)):h!==c&&(k[d]=h));return k}b.module("nb.metatag",["nb.lodash","nb.token"]).provider("nbMetatag",e).provider("nbMetatagConfig",d)}(window,window.angular);
/*
 * nb-metatag
 * 
 * @author Hein Bekker <hein@netbek.co.za>
 * @copyright (c) 2015 Hein Bekker
 * @license http://www.gnu.org/licenses/agpl-3.0.txt AGPLv3
 */
!function(a,b,c){"use strict";function d(){var a={delimiter:":",defaults:{title:c,"abstract":c,description:c,keywords:c,copyright:c,og:{title:c,description:c,url:c,type:c,image:{facebook:{url:c,width:c,height:c},linkedin:{url:c,width:c,height:c}}},twitter:{card:c,site:c,creator:c,image:c},mobile_web_app_capable:c,apple_mobile_web_app_capable:c,apple_mobile_web_app_title:c}};return{set:function(c){arguments.length>1?f(a,arguments[0],arguments[1]):a=b.extend({},a,c)},$get:function(){return a}}}function e(){var a=!1;return{$get:["$rootScope","$q","nbToken","nbMetatagConfig","_",function(b,c,d,e,f){function g(){b.metatag=d.replace(f.cloneDeep(e.defaults))}return b.$on("$stateChangeStart",function(){g()}),{init:function(){var b=c.defer();return a||(a=!0,g()),b.resolve(!0),b.promise},reset:g,set:function(a){b.metatag=d.replace(a)}}}]}}function f(a,c,d,e){b.isUndefined(e)&&(e=".");for(var f=c.split(e),g=f.length-1,h=a,i=0;g>i;i++){var j=f[i];(b.isUndefined(h[j])||!b.isObject(h[j]))&&(h[j]=isNaN(f[i+1])?{}:[]),h=h[j]}return h[f[g]]=d,a}b.module("nb.metatag",["nb.lodash","nb.token"]).provider("nbMetatag",e).provider("nbMetatagConfig",d)}(window,window.angular);